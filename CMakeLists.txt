CMAKE_MINIMUM_REQUIRED(VERSION 3.8)

project(Nraster CXX)

IF(NOT CMAKE_BUILD_TYPE)
	SET(CMAKE_BUILD_TYPE Debug)
ENDIF()

OPTION(BUILD_TESTS "builds the test directory and gtest")
OPTION(BUILD_DEMOS "builds the demo directory")

FIND_PACKAGE(OpenGL REQUIRED)
FIND_PACKAGE(GLEW REQUIRED)

ADD_SUBDIRECTORY(dependencies)
ADD_SUBDIRECTORY(lib)

IF(BUILD_DEMOS)
	ADD_SUBDIRECTORY(demo)
ENDIF()

IF(BUILD_TESTS)
	ADD_SUBDIRECTORY(test)

	ENABLE_TESTING()

	ADD_TEST(
		NAME NrasterTests
		COMMAND $<TARGET_FILE:NrasterTest>
	)
ENDIF()

